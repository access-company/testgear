# Testgear

A gear application of [Solomon]. As the name suggests, used for testing [Solomon]'s core functionality.

[Solomon]: https://github.com/access-company/solomon

Testgear is:

- installable to any [Solomon] instances
- utilized in [upgrade compatibility test][uct]
- also, a sample case of gear application implementation

[uct]: https://github.com/access-company/solomon/blob/master/local/mix/upgrade_compatibility_test.ex

## Installation

Testgear can be installed to any Solomon instances.

To do so, you must supply `ANTIKYTHERA_INSTANCE_DEP` environment variable.
It must declare dependency to your Solomon instance in the form of dependency tuple,
just like you do in ordinary `mix.exs` file.

Example sequence up to compilation:

```sh
$ git clone https://github.com/access-company/testgear.git
$ cd testgear
$ ANTIKYTHERA_INSTANCE_DEP='{:your_solomon_instance, [git: "git@github.com:your_organization/your_solomon_instance.git"]}'
$ export ANTIKYTHERA_INSTANCE_DEP
$ mix deps.get
* Getting your_solomon_instance (git@github.com:your_organization/your_solomon_instance.git)
... (snip)

$ mix deps.get # Fetch dev/test-only dependencies declared in your_solomon_instance
$ mix compile
$ unset ANTIKYTHERA_INSTANCE_DEP
```

`ANTIKYTHERA_INSTANCE_DEP` is required **whenever `mix` is involved**, since testgear's `mix.exs` file depends on its value.

When you run already compiled Testgear with your Solomon instance release (generated by [mix task][gr]),
all necessary information are stored in `testgear.app` so the environment variable is no longer needed.

[gr]: https://github.com/access-company/solomon/blob/master/core/mix/generate_release.ex

## Copyright and License

Copyright(c) 2015-2018 [ACCESS CO., LTD](https://www.access-company.com). All rights reserved.

Antikythera source code is licensed under the [Apache License version 2.0](./LICENSE).
